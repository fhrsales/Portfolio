:root {
	--grid: 9px;
	--font-primary: 'Fira Sans', sans-serif;

	--color-primary: #060422;
	--color-secondary: #a0c10e;
	--color-tertiary: #ffffff;
    --color-danger: #e63946;
	--color-dark: #333338;
	--color-light: #f5f5f5;

	/* Scroll background defaults */
	--bg-first: var(--color-primary);
	--bg-second: var(--color-secondary);

	--shadow-2: 0 1px 6px rgba(0, 0, 0, 0.2);

	--multiply: multiply;
}

/* normalize css */
* {
	box-sizing: border-box;
	margin: 0;
	padding: 0;
}

body {
	background-color: var(--body-bg, var(--color-light));
	transition: background-color 1.5s ease;
}

main {
	flex: 1;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	min-height: 100vh;
	width: 100vw;
}

.main-content {
	flex: 1;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	min-height: 100vh;
	width: 100vw;
}

/* Home with menu hidden: center hero tighter vertically */
.main-content.home-initial .intro-paragraph {
	/* ignore header height when menu is hidden */
	--intro-offset: 16px;
	margin-top: calc(((100vh - var(--intro-p-height, 0px)) / 2) - var(--intro-offset, 0px)) !important;
	margin-bottom: calc(((100vh - var(--intro-p-height, 0px)) / 2) + var(--intro-offset, 0px)) !important;
}

@media (max-width: 600px) {
	.main-content.home-initial .intro-paragraph {
		/* on mobile, also use true center instead of 1/3 distribution */
		--intro-offset: 10px;
		margin-top: calc(((100vh - var(--intro-p-height, 0px)) / 2) - var(--intro-offset, 0px)) !important;
		margin-bottom: calc(((100vh - var(--intro-p-height, 0px)) / 2) + var(--intro-offset, 0px)) !important;
	}
}

strong {
	font-weight: 600;
}

.sublinks {
	font-size: 70%;
}

.shadow-1 {
	position: relative; /* Essential for positioning pseudo-elements */
}

.shadow-1:before,
.shadow-1:after {
	content: '';
	position: absolute;
	z-index: -1;
	bottom: 15px; /* Adjust as needed for desired lift */
	height: 17px; /* Adjust for shadow thickness */
	width: 50%; /* Adjust for shadow width */
	box-shadow: 0 10px 5px rgba(0, 0, 0, 0.3); /* Shadow properties for corners */
}

.shadow-1:before {
	left: 10px; /* Position left corner shadow */
	transform: rotate(-5deg); /* Angle the left shadow */
}

.shadow-1:after {
	right: 10px; /* Position right corner shadow */
	transform: rotate(5deg); /* Angle the right shadow */
}

/* Blend multiply helper: wrapper provides background color, image uses mix-blend-mode */
.image-block-wrapper.blend-multiply {
	background-color: var(--image-blend-bg);
}
.image-block-wrapper.blend-multiply img {
    mix-blend-mode: var(--image-blend-mode);
}

/* Intro paragraph (index hero) */
.intro-paragraph {
    font-family: var(--font-primary);
    font-weight: 300;
    font-size: calc(var(--grid) * 3.3) !important; /* slightly larger on desktop */
    line-height: 1.5 !important; /* increased line-height */
    letter-spacing: -0.02em;
    text-align: center;
    color: var(--color-dark);
    --intro-offset: 24px;
    --intro-p-height: min(60vh, 320px);
	/* vertical centering of the first scroll using dynamic margins with offset */
	margin-top: calc(((100vh - var(--header-h, 0px) - var(--intro-p-height, 0px)) / 2) - var(--intro-offset, 0px)) !important;
	margin-bottom: calc(((100vh - var(--header-h, 0px) - var(--intro-p-height, 0px)) / 2) + var(--intro-offset, 0px)) !important;
}

/* Pre-apply hero layout on home to avoid CLS before JS decorates headings */
.main-content.is-home .intro-paragraph {
	font-size: calc(var(--grid) * 3.3) !important;
	line-height: 1.5 !important;
	letter-spacing: -0.02em;
	text-align: center;
	--intro-offset: 24px;
	--intro-p-height: min(60vh, 320px);
	max-width: 620px !important;
	width: calc(100% - (var(--grid) * 4));
	margin-left: auto;
	margin-right: auto;
	margin-top: calc(((100vh - var(--header-h, 0px) - var(--intro-p-height, 0px)) / 2) - var(--intro-offset, 0px)) !important;
	margin-bottom: calc(((100vh - var(--header-h, 0px) - var(--intro-p-height, 0px)) / 2) + var(--intro-offset, 0px)) !important;
}

/* Width M (aligns with image M: 620px) */
.text-m {
	max-width: 620px !important;
	width: calc(100% - (var(--grid) * 4));
	margin-left: auto;
	margin-right: auto;
}

/* Word animation atoms (JS sets delays inline) */
.intro-paragraph .word,
.intro-animated .word {
    display: inline-block;
    will-change: transform, opacity;
    transform: translateY(10px);
    opacity: 0;
    transition: transform 820ms cubic-bezier(0.2, 0.7, 0.2, 1), opacity 820ms ease-out;
}

/* Inline logo (used in hero signature) */
.inline-logo {
    display: inline-block;
    width: 129px;
    height: 35px;
    background-image: var(--inline-logo-url);
    background-repeat: no-repeat;
    background-size: contain;
    background-position: center;
    vertical-align: -0.24em;
    overflow: hidden;
    text-indent: -9999px;
    white-space: nowrap;
}

/* Slightly larger inline logo in intro H1 */
.intro-h1 .inline-logo {
	width: 140px;
	height: 38px;
}

@media (min-width: 900px) {
    .inline-logo {
        transform: translateY(2px);
    }
}
.intro-paragraph.reveal .word,
.intro-animated.reveal .word {
    transform: translateY(0);
    opacity: 1;
}

/* Sticky anchor for tag selector */
.tag-selector-anchor {
	--tag-offset: calc(var(--grid) * 1.5);
	position: sticky;
	top: calc(env(safe-area-inset-top, 0px) + var(--header-h, 0px) + var(--tag-offset));
	z-index: 5;
	width: 100%;
	display: flex;
	justify-content: center;
	align-self: stretch;
	/* background: var(--body-bg, var(--color-light)); */
}
html.menu-hidden .tag-selector-anchor {
	--tag-offset: 0px;
}
@media (min-width: 900px) {
	.tag-selector-anchor {
		--tag-offset: calc(var(--grid) * 2);
	}
	html.menu-hidden .tag-selector-anchor {
		--tag-offset: 0px;
	}
}

/* Fade menu + tag selector while scrolling */
.menu-bar,
.tag-selector-anchor {
	transition: opacity 220ms ease;
}
html.is-scrolling .menu-bar:not(.hidden),
html.is-scrolling .tag-selector-anchor {
	opacity: 0;
	pointer-events: none;
}
html:not(.is-scrolling) .menu-bar:not(.hidden) {
	opacity: 1;
	pointer-events: auto;
}
html:not(.is-scrolling) .tag-selector-anchor {
	opacity: 1;
	pointer-events: auto;
}

/* 100vh hero wrapper to guarantee first scroll occupation */
.intro-hero {
	/* legacy: no longer used, kept for compatibility */
	min-height: 100vh;
	width: 100%;
	padding: calc(var(--grid) * 4) 0;
}
.intro-hero .intro-paragraph { margin-bottom: 0; }


@media (max-width: 600px) {
	.intro-paragraph {
		font-size: calc(var(--grid) * 2.6) !important;
		line-height: 1.4 !important;
		--intro-offset: 12px;
		--intro-p-height: min(55vh, 240px);
		margin-top: calc(((100vh - var(--header-h, 0px) - var(--intro-p-height, 0px)) / 3) - var(--intro-offset, 0px)) !important;
		margin-bottom: calc(((100vh - var(--header-h, 0px) - var(--intro-p-height, 0px)) / 3) + var(--intro-offset, 0px)) !important;
	}
	.intro-hero {
		padding: calc(var(--grid) * 3) 0;
	}
}

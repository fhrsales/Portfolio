import{O as S,k as b,l as D,Q as U,R as x,T as F,U as O,V as C,W as E,X as L,Y as N,Z as Y,_ as Z,$,a0 as q,a1 as w,a2 as H,a3 as M,a4 as I,n as P,h as Q,s as V,a5 as W}from"./Dru1obsd.js";import{s as X,g as j}from"./SYLf1UDd.js";function G(a,r,s=!1){b&&D();var e=a,n=null,t=null,i=Z,k=s?U:0,o=!1;const A=(l,u=!0)=>{o=!0,h(u,l)};var f=null;function p(){f!==null&&(f.lastChild.remove(),e.before(f),f=null);var l=i?n:t,u=i?t:n;l&&q(l),u&&w(u,()=>{i?t=null:n=null})}const h=(l,u)=>{if(i===(i=l))return;let m=!1;if(b){const R=x(e)===F;!!i===R&&(e=O(),C(e),E(!1),m=!0)}var g=$(),_=e;if(g&&(f=document.createDocumentFragment(),f.append(_=L())),i?n??(n=u&&N(()=>u(_))):t??(t=u&&N(()=>u(_))),g){var d=Y,y=i?n:t,T=i?t:n;y&&d.skipped_effects.delete(y),T&&d.skipped_effects.add(T),d.add_callback(p)}else p();m&&E(!0)};S(()=>{o=!1,r(A),o||h(null,null)},k),b&&(e=H)}let c=!1,v=Symbol();function J(a,r,s){const e=s[r]??(s[r]={store:null,source:P(void 0),unsubscribe:I});if(e.store!==a&&!(v in s))if(e.unsubscribe(),e.store=a??null,a==null)e.source.v=void 0,e.unsubscribe=I;else{var n=!0;e.unsubscribe=X(a,t=>{n?e.source.v=t:V(e.source,t)}),n=!1}return a&&v in s?j(a):Q(e.source)}function K(){const a={};function r(){M(()=>{for(var s in a)a[s].unsubscribe();W(a,v,{enumerable:!1,value:!0})})}return[a,r]}function ee(a){var r=c;try{return c=!1,[a(),c]}finally{c=r}}export{K as a,ee as c,G as i,J as s};
